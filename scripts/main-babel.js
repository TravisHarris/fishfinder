"use strict";var form=document.getElementById("query"),levelInput=document.getElementById("level"),budgetInput=document.getElementById("budget"),tankInput=document.getElementById("tanks"),timeframeInput=document.getElementById("timeframe"),superGroInput=document.getElementById("super-Gro"),timeframeDiv=document.getElementById("timeframe-div"),wait=document.getElementById("wait"),url="static_data_min.json";form.addEventListener("submit",function(a){a.preventDefault(),bestFish=resetFish();var b=parseInt(levelInput.value),c=parseInt(budgetInput.value),d=parseInt(tankInput.value),e=timeframeInput.value,f=superGroInput.checked;validateInput(b,c,d)||(wait.style.display="block",wait.innerHTML="Please Wait...",fetch(url).then(function(g){return g.json()}).then(function(g){generateFish(g,b,c,e,f,d)}).catch(function(){$.ajax({url:url,dataType:"json",success:function success(h){generateFish(h,b,c,e,f,d)},error:function error(h){console.log("ERROR: ",h),wait.innerHTML="Can Not Get Data."}})}))});function generateFish(a,b,c,d,e,f){for(var h,g=0;g<a.fish.length;g++)h=a.fish[g],"1"===h.active&&"0"===h.ufb&&parseInt(h.rl)<=b&&parseInt(h.pp)<=c&&(e?checkFish(h,b,c,e,f):h.aa==d&&checkFish(h,b,c,e,f));wait.style.display="none",showFish(f)}function validateInput(a,b,c){var d="<p id=\"validation\">Please enter a valid ",e=0;if((isNaN(a)||""===a)&&(d+="level",e++),(isNaN(b)||""===b)&&(0!=e&&(d+=", "),d+="budget",e++),(isNaN(c)||""===c)&&(0!=e&&(d+=", "),d+="number of tanks",e++),d+=".</p>",0<e){var f=document.getElementById("fish-stats");f.style.display="block",$("#fish-stats").html(d),f.scrollIntoView({behavior:"smooth"})}return e}superGroInput.addEventListener("change",function(){timeframeDiv.style.display=superGroInput.checked?"none":"block"});function resetFish(){return{id:"",cat:"",n:"",pp:"",sp:"",t:"",profPerFish:0,maxNumOfFish:0,profit:0,marketProfit:0,totalProfit:0,maxMarketProfit:0,totalMarketProfit:0,aa:""}}function checkFish(a,b,c,d,e){var f=250*e,g=Math.floor(c/parseInt(a.pp)),h=parseInt(a.sp)-parseInt(a.pp);d&&250<g?g=250:g>f&&(g=f);var j=h*g;if(j>bestFish.profit){var l=Math.floor(h/1.15),m=Math.floor(j/1.15),o=a.aa;d&&(o="instant"),bestFish={id:a.id,cat:a.cat,n:a.n,pp:a.pp,sp:a.sp,t:a.t,profPerFish:h,maxNumOfFish:g,profit:j,marketProfit:l,totalProfit:j+c,maxMarketProfit:m,totalMarketProfit:m+c,aa:o}}}function showFish(a){var b="";""===bestFish.id?b+="<p class=\"no-fish\">No Fish Matching This Query Was Found, Please Try Again.</p>":(b="\n\t\t\t\t<div>\n\t\t\t\t\t<h1 id=\"fish-header\">The Most Profitable Fish In This Case Is:</h1>\n\t\t\t\t\t<h2 id=\"fish-name\">"+bestFish.n+"</h2>\n\t\t\t\t\t<img id=\"fish-pic\" src=\"https://fw.bigvikinggames.com/images/dialog/itempics/Fish"+bestFish.t+".jpg\" alt=\"Picture of "+bestFish.n+"\">\n\t\t\t\t\t<ul class=\"results-list\">\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">Purchase Price: <span class=\"amount\">"+monify(parseInt(bestFish.pp))+"</span></p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">Sell Price: <span class=\"amount\">"+monify(parseInt(bestFish.sp))+"</span></p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">Profit Per Fish: <span class=\"amount\">"+monify(bestFish.profPerFish)+"</span></p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">Profit Per Fish At Market (-15%): <span class=\"amount\">"+monify(bestFish.marketProfit)+"</span></p>\n\t\t\t\t\t\t</li>",b+="instant"===bestFish.aa?"\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">How Many You Can Buy With Super-Gro: <span class=\"amount\">"+bestFish.maxNumOfFish.toLocaleString()+"</span></p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">Profit Per Super-Gro: <span class=\"amount\">"+monify(bestFish.profit)+"</span></p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">Total After Super-Gro: <span class=\"amount\">"+monify(bestFish.totalProfit)+"</span></p>\n\t\t\t\t\t\t</li>":"\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">How Many You Can Buy with "+a+" tank(s): <span class=\"amount\">"+bestFish.maxNumOfFish.toLocaleString()+"</span></p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">Profit Per "+bestFish.aa+": <span class=\"amount\">"+monify(bestFish.profit)+"</span></p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">Total After "+bestFish.aa+": <span class=\"amount\">"+monify(bestFish.totalProfit)+"</span></p>\n\t\t\t\t\t\t</li>",b+="\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">Profit At Market Sell (-15%): <span class=\"amount\">"+monify(bestFish.maxMarketProfit)+"</span></p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"result\">\n\t\t\t\t\t\t\t<p class=\"bullet\">&#x2022;</p>\n\t\t\t\t\t\t\t<p class=\"resultText\">Total After Market Sell (-15%): <span class=\"amount\">"+monify(bestFish.totalMarketProfit)+"</span></p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>");var c=document.getElementById("fish-stats");c.style.display="block",$("#fish-stats").html(b),c.scrollIntoView({behavior:"smooth"})}function monify(a){return a.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})}var bestFish=resetFish();